

# 📖 Good Old Days Diary Manager

这是一个基于 C 语言实现的命令行日记管理工具。它使用二进制文件进行数据存储，并要求用户通过命令行参数进行身份验证，以确保日记内容的私密性。

## 🎯 核心功能

  * **安全认证：** 在执行读写操作前，强制进行密码验证。
  * **二进制存储：** 以高效、紧凑的二进制格式 (`Data/diary.dat`) 保存日记数据。
  * **时间戳记录：** 自动记录日记创建时的日期和星期几。
  * **数据校验：** 在读取时检查数据文件完整性，避免程序因文件损坏而崩溃。

## 🚀 如何运行

### 1\. 编译项目

在项目根目录下使用 GCC（或其他 C 编译器）进行编译：

```bash
gcc -Wall nostalgia_manager.c -o manager
```

这将在目录下生成一个名为 `manager` (或 `manager.exe`) 的可执行文件。

### 2\. 运行环境配置（Windows/中文）

由于程序输出中文，在 Windows PowerShell 或 CMD 中运行前，请设置字符集以避免乱码：

```powershell
chcp 65001
```

-----

## 💻 命令及参数详解

所有操作都必须通过命令行参数来完成。命令格式已包含必要的密码参数。

### 模式 1: 独立认证

用于快速验证密码是否正确。

| 参数 | 描述 |
| :--- | :--- |
| `<密码>` | 设置在源代码中的固定密码。 |

**示例:**

```bash
.\manager.exe 123456
```

### 模式 2: 保存日记 (`save`)

用于创建并追加一篇新的日记。

| 位置 | 参数 | 示例值 | 描述 |
| :--- | :--- | :--- | :--- |
| 1 | `save` | `save` | 命令关键字 |
| 2 | `<密码>` | `123456` | 验证用户身份 |
| 3 | `<天气>` | `"晴朗"` | **必须用引号**括起来的天气描述 |
| 4 | `<内容>` | `"今天很开心"` | **必须用引号**括起来的日记正文 |

**示例:**

```bash
.\manager.exe save 123456 "多云转晴" "今天完成了所有工作，非常高效。"
```

### 模式 3: 查看日记 (`view`)

用于按日期查找并显示已保存的日记条目。

| 位置 | 参数 | 示例值 | 描述 |
| :--- | :--- | :--- | :--- |
| 1 | `view` | `view` | 命令关键字 |
| 2 | `<密码>` | `123456` | 验证用户身份 |
| 3 | `<日期>` | `2025-10-24` | 要查找的日记的日期格式 (YYYY-MM-DD) |

**示例:**

```bash
.\manager.exe view 123456 2025-10-24
```

### 🚫 错误用法提示

如果参数数量或格式不正确，程序将自动输出用法指南：

```bash
错误：参数无效或缺失。
用法:
  1. 独立认证: manager <密码>
  2. 保存日记: manager save <密码> "<天气>" "<内容>"
  3. 查看日记: manager view <密码> <YYYY-MM-DD>
```
